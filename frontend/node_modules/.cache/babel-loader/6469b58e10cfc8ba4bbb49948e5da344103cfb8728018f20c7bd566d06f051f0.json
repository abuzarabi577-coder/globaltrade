{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\toshiba\\\\Desktop\\\\MLM Invested site\\\\frontend\\\\src\\\\task\\\\CoinRainGame.jsx\",\n  _s = $RefreshSig$();\n// CoinRainGame.jsx\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { motion } from 'framer-motion';\nimport CoinRainUI from './CoinRainUI';\nimport WinModal from './WinModal';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CoinRainGame = () => {\n  _s();\n  const [coins, setCoins] = useState([]);\n  const [points, setPoints] = useState(0);\n  const [timeLeft, setTimeLeft] = useState(60);\n  const [gameActive, setGameActive] = useState(true);\n  const [showWinModal, setShowWinModal] = useState(false);\n  const [isMobile, setIsMobile] = useState(false);\n  const gameRef = useRef(null);\n  const [screenSize, setScreenSize] = useState('mobile'); // ← ADD THIS LINE\n\n  // Responsive detection\n  useEffect(() => {\n    const updateScreenSize = () => {\n      const width = window.innerWidth;\n      if (width < 768) {\n        setIsMobile(true);\n        setScreenSize('mobile');\n      } else if (width < 1280) {\n        setIsMobile(false);\n        setScreenSize('tablet');\n      } else {\n        setIsMobile(false);\n        setScreenSize('desktop');\n      }\n    };\n    updateScreenSize();\n    window.addEventListener('resize', updateScreenSize);\n    return () => window.removeEventListener('resize', updateScreenSize);\n  }, []);\n  // GAME END LOGIC - 100 points OR time up\n  useEffect(() => {\n    if (points >= 100 || timeLeft <= 0) {\n      setGameActive(false);\n      setTimeout(() => setShowWinModal(true), 500);\n    }\n  }, [points, timeLeft]);\n\n  // Timer\n  useEffect(() => {\n    if (timeLeft > 0 && gameActive) {\n      const timer = setTimeout(() => setTimeLeft(t => t - 1), 1000);\n      return () => clearTimeout(timer);\n    }\n  }, [timeLeft, gameActive]);\n\n  // Spawn coins - INITIAL SPAWN ON MOUNT\n  useEffect(() => {\n    if (!gameActive) return;\n    const interval = setInterval(() => {\n      setCoins(prev => [...prev.slice(-10), {\n        id: Date.now() + Math.random(),\n        x: Math.random() * (screenSize === 'mobile' ? 280 : screenSize === 'tablet' ? 500 : 800),\n        // ← USE screenSize\n        y: -100,\n        type: ['BTC', 'ETH', 'SOL', 'ADA', 'DOT'][Math.floor(Math.random() * 5)],\n        size: 0.75 + Math.random() * 0.3\n      }].slice(-12));\n    }, 1000);\n    return () => clearInterval(interval);\n  }, [gameActive, screenSize]); // ← Remove isMobile dependency\n\n  // BTC Click Handler\n  // CoinRainGame.jsx - PERFECT CLICK ON EVERY COIN\n  const handleBTCTap = useCallback(coinId => {\n    if (!gameActive) return;\n\n    // IMMEDIATE coin removal + points\n    setCoins(prev => {\n      const newCoins = prev.filter(coin => coin.id !== coinId);\n      setPoints(p => Math.min(p + 8, 100)); // SEPARATE setPoints\n      return newCoins;\n    });\n  }, [gameActive]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(CoinRainUI, {\n      coins: coins,\n      points: points,\n      timeLeft: timeLeft,\n      screenSize: screenSize // ← NEW PROP\n      ,\n\n      isMobile: isMobile,\n      gameActive: gameActive,\n      onBTCTap: handleBTCTap\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this), showWinModal && /*#__PURE__*/_jsxDEV(WinModal, {\n      points: points,\n      onClaim: () => window.location.reload()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(CoinRainGame, \"WiLpSfPiI4JEt0Ny1uLF2yGfwYI=\");\n_c = CoinRainGame;\nexport default CoinRainGame;\nvar _c;\n$RefreshReg$(_c, \"CoinRainGame\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","motion","CoinRainUI","WinModal","jsxDEV","_jsxDEV","Fragment","_Fragment","CoinRainGame","_s","coins","setCoins","points","setPoints","timeLeft","setTimeLeft","gameActive","setGameActive","showWinModal","setShowWinModal","isMobile","setIsMobile","gameRef","screenSize","setScreenSize","updateScreenSize","width","window","innerWidth","addEventListener","removeEventListener","setTimeout","timer","t","clearTimeout","interval","setInterval","prev","slice","id","Date","now","Math","random","x","y","type","floor","size","clearInterval","handleBTCTap","coinId","newCoins","filter","coin","p","min","children","onBTCTap","fileName","_jsxFileName","lineNumber","columnNumber","onClaim","location","reload","_c","$RefreshReg$"],"sources":["C:/Users/toshiba/Desktop/MLM Invested site/frontend/src/task/CoinRainGame.jsx"],"sourcesContent":["// CoinRainGame.jsx\r\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport { motion } from 'framer-motion';\r\nimport CoinRainUI from './CoinRainUI';\r\nimport WinModal from './WinModal';\r\n\r\nconst CoinRainGame = () => {\r\n  const [coins, setCoins] = useState([]);\r\n  const [points, setPoints] = useState(0);\r\n  const [timeLeft, setTimeLeft] = useState(60);\r\n  const [gameActive, setGameActive] = useState(true);\r\n  const [showWinModal, setShowWinModal] = useState(false);\r\n  const [isMobile, setIsMobile] = useState(false);\r\n  const gameRef = useRef(null);\r\n  const [screenSize, setScreenSize] = useState('mobile'); // ← ADD THIS LINE\r\n\r\n  // Responsive detection\r\n  useEffect(() => {\r\n    const updateScreenSize = () => {\r\n      const width = window.innerWidth;\r\n      if (width < 768) {\r\n        setIsMobile(true);\r\n        setScreenSize('mobile');\r\n      } else if (width < 1280) {\r\n        setIsMobile(false);\r\n        setScreenSize('tablet');\r\n      } else {\r\n        setIsMobile(false);\r\n        setScreenSize('desktop');\r\n      }\r\n    };\r\n    updateScreenSize();\r\n    window.addEventListener('resize', updateScreenSize);\r\n    return () => window.removeEventListener('resize', updateScreenSize);\r\n  }, []);\r\n  // GAME END LOGIC - 100 points OR time up\r\n  useEffect(() => {\r\n    if (points >= 100 || timeLeft <= 0) {\r\n      setGameActive(false);\r\n      setTimeout(() => setShowWinModal(true), 500);\r\n    }\r\n  }, [points, timeLeft]);\r\n\r\n  // Timer\r\n  useEffect(() => {\r\n    if (timeLeft > 0 && gameActive) {\r\n      const timer = setTimeout(() => setTimeLeft(t => t - 1), 1000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [timeLeft, gameActive]);\r\n\r\n // Spawn coins - INITIAL SPAWN ON MOUNT\r\nuseEffect(() => {\r\n  if (!gameActive) return;\r\n  \r\n  const interval = setInterval(() => {\r\n    setCoins(prev => [...prev.slice(-10), {\r\n      id: Date.now() + Math.random(),\r\n      x: Math.random() * (screenSize === 'mobile' ? 280 : screenSize === 'tablet' ? 500 : 800), // ← USE screenSize\r\n      y: -100,\r\n      type: ['BTC', 'ETH', 'SOL', 'ADA', 'DOT'][Math.floor(Math.random() * 5)],\r\n      size: 0.75 + Math.random() * 0.3\r\n    }].slice(-12));\r\n  }, 1000);\r\n  return () => clearInterval(interval);\r\n}, [gameActive, screenSize]); // ← Remove isMobile dependency\r\n\r\n\r\n  // BTC Click Handler\r\n  // CoinRainGame.jsx - PERFECT CLICK ON EVERY COIN\r\nconst handleBTCTap = useCallback((coinId) => {\r\n  if (!gameActive) return;\r\n  \r\n  // IMMEDIATE coin removal + points\r\n  setCoins(prev => {\r\n    const newCoins = prev.filter(coin => coin.id !== coinId);\r\n    setPoints(p => Math.min(p + 8, 100)); // SEPARATE setPoints\r\n    return newCoins;\r\n  });\r\n}, [gameActive]);\r\n\r\n\r\n  return (\r\n    <>\r\n      <CoinRainUI \r\n        coins={coins}\r\n        points={points}\r\n        timeLeft={timeLeft}\r\n                screenSize={screenSize}  // ← NEW PROP\r\n\r\n        isMobile={isMobile}\r\n        gameActive={gameActive}\r\n        onBTCTap={handleBTCTap}\r\n\r\n      />\r\n      {showWinModal && (\r\n        <WinModal points={points} onClaim={() => window.location.reload()} />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CoinRainGame;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}