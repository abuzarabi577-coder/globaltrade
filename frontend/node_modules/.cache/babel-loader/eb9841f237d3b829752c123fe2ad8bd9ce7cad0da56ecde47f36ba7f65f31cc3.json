{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\toshiba\\\\Desktop\\\\MLM Invested site\\\\frontend\\\\src\\\\task\\\\TasksSection.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useMemo } from \"react\";\nimport { motion } from \"framer-motion\";\nimport { FaTelegramPlane, FaYoutube, FaShareAlt, FaGamepad } from \"react-icons/fa\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useAppContext } from \"../context/AppContext\";\nimport NoLoginForTasks from \"./NoLoginForTasks\";\nimport TaskCard from \"./TaskCard\";\nimport VideoModal from \"./vediomadal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ICON_BY_CATEGORY = {\n  watch: FaYoutube,\n  subscribe: FaTelegramPlane,\n  play: FaGamepad,\n  share: FaShareAlt\n};\nconst TYPE_BY_CATEGORY = {\n  watch: \"watch\",\n  subscribe: \"share\",\n  play: \"game\",\n  share: \"share\"\n};\nconst normalizeId = v => v ? String(v) : \"\";\n\n// ✅ backend/dayKey UTC (your DB uses YYYY-MM-DD)\nconst getDayKey = (d = new Date()) => d.toISOString().slice(0, 10);\nexport default function TasksSection() {\n  _s();\n  const navigate = useNavigate();\n  const [videoUrl, setVideoUrl] = useState(null);\n  const [completedTasks, setCompletedTasks] = useState([]);\n  const [totalPoints, setTotalPoints] = useState(0);\n  const [taskIdsObj, setTaskIdsObj] = useState({});\n  const videoTimerRef = useRef(null);\n  const MAX_POINTS = 100;\n  const TASK_POINTS = 20;\n  const DAILY_TASKS = 5;\n  const syncingRef = useRef(false);\n  const {\n    syncTasksToBackend,\n    HandleFetchUserTasks,\n    FetchUserTask,\n    FetchUserData,\n    HandleFetchUserData,\n    showAlert\n  } = useAppContext();\n\n  // ✅ login source = FetchUserData\n  const isLoggedIn = !!(FetchUserData !== null && FetchUserData !== void 0 && FetchUserData._id);\n  const isPlanActive = !!(FetchUserData !== null && FetchUserData !== void 0 && FetchUserData.isActivePlan);\n\n  // ✅ DB based \"today completed\" check (always derive from latest FetchUserData)\n  const todayKey = getDayKey();\n  const groups = Array.isArray(FetchUserData === null || FetchUserData === void 0 ? void 0 : FetchUserData.dailyTasksCompleted) ? FetchUserData.dailyTasksCompleted : [];\n  const todayGroup = groups.find(x => String(x === null || x === void 0 ? void 0 : x.date) === String(todayKey));\n  const getLocalDayKey = () => {\n    const d = new Date();\n    const y = d.getFullYear();\n    const m = String(d.getMonth() + 1).padStart(2, \"0\");\n    const day = String(d.getDate()).padStart(2, \"0\");\n    return `${y}-${m}-${day}`; // YYYY-MM-DD (LOCAL)\n  };\n\n  // ✅ local restore (run once)\n  useEffect(() => {\n    const tk = getDayKey();\n    const savedDate = localStorage.getItem(\"tasksDate\");\n    const savedObj = localStorage.getItem(\"taskIdsObj\");\n    const savedPoints = localStorage.getItem(\"totalPoints\");\n\n    // ✅ new day => clear local\n    if (savedDate !== tk) {\n      localStorage.setItem(\"tasksDate\", tk);\n      localStorage.removeItem(\"taskIdsObj\");\n      localStorage.removeItem(\"totalPoints\");\n      setTaskIdsObj({});\n      setCompletedTasks([]);\n      setTotalPoints(0);\n      return;\n    }\n\n    // ✅ same day => restore local\n    if (savedObj) {\n      try {\n        const obj = JSON.parse(savedObj) || {};\n        setTaskIdsObj(obj);\n        const ids = Object.keys(obj);\n        setCompletedTasks(ids.map(id => ({\n          id\n        })));\n        setTotalPoints(savedPoints ? Number(savedPoints) : Math.min(ids.length * TASK_POINTS, MAX_POINTS));\n      } catch {\n        // ignore bad json\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // ✅ always fetch user on mount\n  useEffect(() => {\n    HandleFetchUserData();\n  }, [HandleFetchUserData]);\n\n  // ✅ fetch tasks list when logged in\n  useEffect(() => {\n    if (!isLoggedIn) return;\n    HandleFetchUserTasks();\n  }, [HandleFetchUserTasks, isLoggedIn]);\n\n  // ✅ DB -> set today's completed (SOURCE OF TRUTH)\n  useEffect(() => {\n    if (!isLoggedIn) return;\n    if (!(FetchUserData !== null && FetchUserData !== void 0 && FetchUserData._id)) return;\n    const groups = Array.isArray(FetchUserData === null || FetchUserData === void 0 ? void 0 : FetchUserData.dailyTasksCompleted) ? FetchUserData.dailyTasksCompleted : [];\n    const tg = groups.find(x => String(x === null || x === void 0 ? void 0 : x.date) === String(todayKey));\n    if (!tg) return;\n    const ids = Array.isArray(tg === null || tg === void 0 ? void 0 : tg.taskIds) ? tg.taskIds.map(normalizeId) : [];\n    const obj = {};\n    ids.forEach(id => obj[id] = true);\n    setTaskIdsObj(obj);\n    setCompletedTasks(ids.map(id => ({\n      id\n    })));\n    setTotalPoints(Math.min(ids.length * TASK_POINTS, MAX_POINTS));\n    localStorage.setItem(\"tasksDate\", todayKey);\n    localStorage.setItem(\"taskIdsObj\", JSON.stringify(obj));\n    localStorage.setItem(\"totalPoints\", String(Math.min(ids.length * TASK_POINTS, MAX_POINTS)));\n  }, [isLoggedIn, FetchUserData === null || FetchUserData === void 0 ? void 0 : FetchUserData._id, FetchUserData === null || FetchUserData === void 0 ? void 0 : FetchUserData.dailyTasksCompleted, todayKey]);\n\n  // ✅ Completed check\n  const isTaskCompleted = taskId => {\n    const id = normalizeId(taskId);\n    return !!taskIdsObj[id];\n  };\n\n  // ✅ daily tasks list\n  const dailyTasks = useMemo(() => {\n    const tasks = Array.isArray(FetchUserTask) ? FetchUserTask : [];\n    return tasks.slice(0, DAILY_TASKS).map(t => {\n      var _t$points;\n      const category = (t.category || \"\").toLowerCase();\n      const Icon = ICON_BY_CATEGORY[category] || FaShareAlt;\n      const id = normalizeId(t._id || t.id);\n      const completed = isTaskCompleted(id);\n      return {\n        ...t,\n        id,\n        title: t.name || \"Task\",\n        reward: (_t$points = t.points) !== null && _t$points !== void 0 ? _t$points : TASK_POINTS,\n        type: TYPE_BY_CATEGORY[category] || \"share\",\n        icon: Icon,\n        status: completed ? \"completed\" : \"pending\"\n      };\n    });\n  }, [FetchUserTask, taskIdsObj]);\n  if (!isLoggedIn) return /*#__PURE__*/_jsxDEV(NoLoginForTasks, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 172,\n    columnNumber: 27\n  }, this);\n  const handleTaskComplete = async task => {\n    const id = normalizeId(task.id);\n    if (isTaskCompleted(id)) return;\n    const newObj = {\n      ...taskIdsObj,\n      [id]: true\n    };\n    const ids = Object.keys(newObj);\n    setTaskIdsObj(newObj);\n    setCompletedTasks(ids.map(x => ({\n      id: x\n    })));\n    setTotalPoints(Math.min(ids.length * TASK_POINTS, MAX_POINTS));\n\n    // remember (local)\n    localStorage.setItem(\"tasksDate\", getDayKey());\n    localStorage.setItem(\"taskIdsObj\", JSON.stringify(newObj));\n    localStorage.setItem(\"totalPoints\", String(Math.min(ids.length * TASK_POINTS, MAX_POINTS)));\n\n    // ✅ Auto sync exactly when 5 done\n    if (ids.length === 5 && !syncingRef.current) {\n      syncingRef.current = true;\n      try {\n        const ok = await syncTasksToBackend(ids);\n        if (ok) {\n          // ✅ local clear after successful sync\n          localStorage.removeItem(\"taskIdsObj\");\n          localStorage.removeItem(\"totalPoints\");\n\n          // ✅ refresh DB and let DB effect set state\n          await HandleFetchUserData();\n        }\n      } finally {\n        syncingRef.current = false;\n      }\n    }\n  };\n  const handleStartTask = task => {\n    if (!isPlanActive) {\n      showAlert(\"error\", \"Please activate a plan first!\");\n      navigate(\"/plans\");\n      return;\n    }\n    if (isTaskCompleted(task.id)) return;\n    if (task.type === \"watch\") {\n      setVideoUrl(task.url);\n      if (videoTimerRef.current) clearTimeout(videoTimerRef.current);\n      videoTimerRef.current = setTimeout(() => {\n        handleTaskComplete(task);\n        setVideoUrl(null);\n      }, 10000);\n    } else if (task.type === \"game\") {\n      navigate(task.url);\n      handleTaskComplete(task);\n    } else {\n      window.open(task.url, \"_blank\", \"noopener,noreferrer\");\n      handleTaskComplete(task);\n    }\n  };\n  // ✅ STRICT: DB says today completed => 100% (no state dependency)\n  const todayLocal = getLocalDayKey();\n  const savedDate = localStorage.getItem(\"tasksDate\");\n\n  // ✅ agar aaj ki date match karti hai tab hi progress\n  const isToday = savedDate === todayLocal;\n  const completedCount = isToday ? Math.min(Object.keys(taskIdsObj).length, DAILY_TASKS) : 0;\n  const progressPercent = isToday ? Math.min(completedCount / DAILY_TASKS * 100, 100) : 0;\n  const pointsToShow = isToday ? Math.min(completedCount * TASK_POINTS, MAX_POINTS) : 0;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen w-full mt-0 bg-gradient-to-br from-gray-900 via-black to-gray-900 text-white relative\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative max-w-7xl mx-auto px-6 pt-10 pb-28 space-y-10\",\n      children: [/*#__PURE__*/_jsxDEV(motion.div, {\n        initial: {\n          opacity: 0,\n          y: 25\n        },\n        animate: {\n          opacity: 1,\n          y: 0\n        },\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl md:text-4xl font-black mb-2 bg-gradient-to-r from-yellow-400 to-yellow-600 bg-clip-text text-transparent\",\n          children: \"Daily Tasks\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-black/70 backdrop-blur-xl rounded-3xl p-6 border border-gray-800/60\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-400 mb-3 flex justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Daily Progress\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [pointsToShow, \"/\", MAX_POINTS, \" points\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full bg-gray-900 rounded-2xl h-3 overflow-hidden\",\n          children: /*#__PURE__*/_jsxDEV(motion.div, {\n            className: \"h-3 bg-gradient-to-r from-yellow-400 to-yellow-600 rounded-2xl shadow-lg\",\n            initial: {\n              width: 0\n            },\n            animate: {\n              width: `${progressPercent}%`\n            },\n            transition: {\n              duration: 0.4\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-xs text-gray-500 mt-2 flex justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [Math.round(progressPercent), \"% Complete\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [completedCount, \"/\", DAILY_TASKS, \" Tasks\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-6\",\n        children: dailyTasks.map(task => /*#__PURE__*/_jsxDEV(TaskCard, {\n          task: task,\n          onStart: handleStartTask\n        }, task.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(VideoModal, {\n      videoUrl: videoUrl,\n      onClose: () => setVideoUrl(null)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 255,\n    columnNumber: 5\n  }, this);\n}\n_s(TasksSection, \"VhrzjoTWJjHguVy7BAcIME4/kII=\", false, function () {\n  return [useNavigate, useAppContext];\n});\n_c = TasksSection;\nvar _c;\n$RefreshReg$(_c, \"TasksSection\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useMemo","motion","FaTelegramPlane","FaYoutube","FaShareAlt","FaGamepad","useNavigate","useAppContext","NoLoginForTasks","TaskCard","VideoModal","jsxDEV","_jsxDEV","ICON_BY_CATEGORY","watch","subscribe","play","share","TYPE_BY_CATEGORY","normalizeId","v","String","getDayKey","d","Date","toISOString","slice","TasksSection","_s","navigate","videoUrl","setVideoUrl","completedTasks","setCompletedTasks","totalPoints","setTotalPoints","taskIdsObj","setTaskIdsObj","videoTimerRef","MAX_POINTS","TASK_POINTS","DAILY_TASKS","syncingRef","syncTasksToBackend","HandleFetchUserTasks","FetchUserTask","FetchUserData","HandleFetchUserData","showAlert","isLoggedIn","_id","isPlanActive","isActivePlan","todayKey","groups","Array","isArray","dailyTasksCompleted","todayGroup","find","x","date","getLocalDayKey","y","getFullYear","m","getMonth","padStart","day","getDate","tk","savedDate","localStorage","getItem","savedObj","savedPoints","setItem","removeItem","obj","JSON","parse","ids","Object","keys","map","id","Number","Math","min","length","tg","taskIds","forEach","stringify","isTaskCompleted","taskId","dailyTasks","tasks","t","_t$points","category","toLowerCase","Icon","completed","title","name","reward","points","type","icon","status","fileName","_jsxFileName","lineNumber","columnNumber","handleTaskComplete","task","newObj","current","ok","handleStartTask","url","clearTimeout","setTimeout","window","open","todayLocal","isToday","completedCount","progressPercent","pointsToShow","className","children","div","initial","opacity","animate","width","transition","duration","round","onStart","onClose","_c","$RefreshReg$"],"sources":["C:/Users/toshiba/Desktop/MLM Invested site/frontend/src/task/TasksSection.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useMemo } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { FaTelegramPlane, FaYoutube, FaShareAlt, FaGamepad } from \"react-icons/fa\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { useAppContext } from \"../context/AppContext\";\r\nimport NoLoginForTasks from \"./NoLoginForTasks\";\r\nimport TaskCard from \"./TaskCard\";\r\nimport VideoModal from \"./vediomadal\";\r\n\r\nconst ICON_BY_CATEGORY = {\r\n  watch: FaYoutube,\r\n  subscribe: FaTelegramPlane,\r\n  play: FaGamepad,\r\n  share: FaShareAlt,\r\n};\r\n\r\nconst TYPE_BY_CATEGORY = {\r\n  watch: \"watch\",\r\n  subscribe: \"share\",\r\n  play: \"game\",\r\n  share: \"share\",\r\n};\r\n\r\nconst normalizeId = (v) => (v ? String(v) : \"\");\r\n\r\n// ✅ backend/dayKey UTC (your DB uses YYYY-MM-DD)\r\nconst getDayKey = (d = new Date()) => d.toISOString().slice(0, 10);\r\n\r\nexport default function TasksSection() {\r\n  const navigate = useNavigate();\r\n  const [videoUrl, setVideoUrl] = useState(null);\r\n  const [completedTasks, setCompletedTasks] = useState([]);\r\n  const [totalPoints, setTotalPoints] = useState(0);\r\n  const [taskIdsObj, setTaskIdsObj] = useState({});\r\n  const videoTimerRef = useRef(null);\r\n\r\n  const MAX_POINTS = 100;\r\n  const TASK_POINTS = 20;\r\n  const DAILY_TASKS = 5;\r\n  const syncingRef = useRef(false);\r\n\r\n  const {\r\n    syncTasksToBackend,\r\n    HandleFetchUserTasks,\r\n    FetchUserTask,\r\n    FetchUserData,\r\n    HandleFetchUserData,\r\n    showAlert,\r\n  } = useAppContext();\r\n\r\n  // ✅ login source = FetchUserData\r\n  const isLoggedIn = !!FetchUserData?._id;\r\n  const isPlanActive = !!FetchUserData?.isActivePlan;\r\n\r\n  // ✅ DB based \"today completed\" check (always derive from latest FetchUserData)\r\n  const todayKey = getDayKey();\r\n\r\n  const groups = Array.isArray(FetchUserData?.dailyTasksCompleted)\r\n    ? FetchUserData.dailyTasksCompleted\r\n    : [];\r\n\r\n  const todayGroup = groups.find((x) => String(x?.date) === String(todayKey));\r\n\r\n  const getLocalDayKey = () => {\r\n  const d = new Date();\r\n  const y = d.getFullYear();\r\n  const m = String(d.getMonth() + 1).padStart(2, \"0\");\r\n  const day = String(d.getDate()).padStart(2, \"0\");\r\n  return `${y}-${m}-${day}`; // YYYY-MM-DD (LOCAL)\r\n};\r\n\r\n  // ✅ local restore (run once)\r\n  useEffect(() => {\r\n    const tk = getDayKey();\r\n    const savedDate = localStorage.getItem(\"tasksDate\");\r\n    const savedObj = localStorage.getItem(\"taskIdsObj\");\r\n    const savedPoints = localStorage.getItem(\"totalPoints\");\r\n\r\n    // ✅ new day => clear local\r\n    if (savedDate !== tk) {\r\n      localStorage.setItem(\"tasksDate\", tk);\r\n      localStorage.removeItem(\"taskIdsObj\");\r\n      localStorage.removeItem(\"totalPoints\");\r\n      setTaskIdsObj({});\r\n      setCompletedTasks([]);\r\n      setTotalPoints(0);\r\n      return;\r\n    }\r\n\r\n    // ✅ same day => restore local\r\n    if (savedObj) {\r\n      try {\r\n        const obj = JSON.parse(savedObj) || {};\r\n        setTaskIdsObj(obj);\r\n        const ids = Object.keys(obj);\r\n        setCompletedTasks(ids.map((id) => ({ id })));\r\n        setTotalPoints(\r\n          savedPoints ? Number(savedPoints) : Math.min(ids.length * TASK_POINTS, MAX_POINTS)\r\n        );\r\n      } catch {\r\n        // ignore bad json\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  // ✅ always fetch user on mount\r\n  useEffect(() => {\r\n    HandleFetchUserData();\r\n  }, [HandleFetchUserData]);\r\n\r\n  // ✅ fetch tasks list when logged in\r\n  useEffect(() => {\r\n    if (!isLoggedIn) return;\r\n    HandleFetchUserTasks();\r\n  }, [HandleFetchUserTasks, isLoggedIn]);\r\n\r\n  // ✅ DB -> set today's completed (SOURCE OF TRUTH)\r\n useEffect(() => {\r\n  if (!isLoggedIn) return;\r\n  if (!FetchUserData?._id) return;\r\n\r\n  const groups = Array.isArray(FetchUserData?.dailyTasksCompleted)\r\n    ? FetchUserData.dailyTasksCompleted\r\n    : [];\r\n\r\n  const tg = groups.find((x) => String(x?.date) === String(todayKey));\r\n  if (!tg) return;\r\n\r\n  const ids = Array.isArray(tg?.taskIds) ? tg.taskIds.map(normalizeId) : [];\r\n  const obj = {};\r\n  ids.forEach((id) => (obj[id] = true));\r\n\r\n  setTaskIdsObj(obj);\r\n  setCompletedTasks(ids.map((id) => ({ id })));\r\n  setTotalPoints(Math.min(ids.length * TASK_POINTS, MAX_POINTS));\r\n\r\n  localStorage.setItem(\"tasksDate\", todayKey);\r\n  localStorage.setItem(\"taskIdsObj\", JSON.stringify(obj));\r\n  localStorage.setItem(\"totalPoints\", String(Math.min(ids.length * TASK_POINTS, MAX_POINTS)));\r\n}, [isLoggedIn, FetchUserData?._id, FetchUserData?.dailyTasksCompleted, todayKey]);\r\n\r\n  // ✅ Completed check\r\n  const isTaskCompleted = (taskId) => {\r\n    const id = normalizeId(taskId);\r\n    return !!taskIdsObj[id];\r\n  };\r\n\r\n  // ✅ daily tasks list\r\n  const dailyTasks = useMemo(() => {\r\n    const tasks = Array.isArray(FetchUserTask) ? FetchUserTask : [];\r\n\r\n    return tasks.slice(0, DAILY_TASKS).map((t) => {\r\n      const category = (t.category || \"\").toLowerCase();\r\n      const Icon = ICON_BY_CATEGORY[category] || FaShareAlt;\r\n      const id = normalizeId(t._id || t.id);\r\n\r\n      const completed = isTaskCompleted(id);\r\n\r\n      return {\r\n        ...t,\r\n        id,\r\n        title: t.name || \"Task\",\r\n        reward: t.points ?? TASK_POINTS,\r\n        type: TYPE_BY_CATEGORY[category] || \"share\",\r\n        icon: Icon,\r\n        status: completed ? \"completed\" : \"pending\",\r\n      };\r\n    });\r\n  }, [FetchUserTask, taskIdsObj]);\r\n\r\n  if (!isLoggedIn) return <NoLoginForTasks />;\r\n\r\n  const handleTaskComplete = async (task) => {\r\n    const id = normalizeId(task.id);\r\n    if (isTaskCompleted(id)) return;\r\n\r\n    const newObj = { ...taskIdsObj, [id]: true };\r\n    const ids = Object.keys(newObj);\r\n\r\n    setTaskIdsObj(newObj);\r\n    setCompletedTasks(ids.map((x) => ({ id: x })));\r\n    setTotalPoints(Math.min(ids.length * TASK_POINTS, MAX_POINTS));\r\n\r\n    // remember (local)\r\n    localStorage.setItem(\"tasksDate\", getDayKey());\r\n    localStorage.setItem(\"taskIdsObj\", JSON.stringify(newObj));\r\n    localStorage.setItem(\"totalPoints\", String(Math.min(ids.length * TASK_POINTS, MAX_POINTS)));\r\n\r\n    // ✅ Auto sync exactly when 5 done\r\n    if (ids.length === 5 && !syncingRef.current) {\r\n      syncingRef.current = true;\r\n      try {\r\n        const ok = await syncTasksToBackend(ids);\r\n\r\n        if (ok) {\r\n          // ✅ local clear after successful sync\r\n          localStorage.removeItem(\"taskIdsObj\");\r\n          localStorage.removeItem(\"totalPoints\");\r\n\r\n          // ✅ refresh DB and let DB effect set state\r\n          await HandleFetchUserData();\r\n        }\r\n      } finally {\r\n        syncingRef.current = false;\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleStartTask = (task) => {\r\n    if (!isPlanActive) {\r\n      showAlert(\"error\", \"Please activate a plan first!\");\r\n      navigate(\"/plans\");\r\n      return;\r\n    }\r\n    if (isTaskCompleted(task.id)) return;\r\n\r\n    if (task.type === \"watch\") {\r\n      setVideoUrl(task.url);\r\n\r\n      if (videoTimerRef.current) clearTimeout(videoTimerRef.current);\r\n\r\n      videoTimerRef.current = setTimeout(() => {\r\n        handleTaskComplete(task);\r\n        setVideoUrl(null);\r\n      }, 10000);\r\n    } else if (task.type === \"game\") {\r\n      navigate(task.url);\r\n      handleTaskComplete(task);\r\n    } else {\r\n      window.open(task.url, \"_blank\", \"noopener,noreferrer\");\r\n      handleTaskComplete(task);\r\n    }\r\n  };\r\n// ✅ STRICT: DB says today completed => 100% (no state dependency)\r\nconst todayLocal = getLocalDayKey();\r\nconst savedDate = localStorage.getItem(\"tasksDate\");\r\n\r\n// ✅ agar aaj ki date match karti hai tab hi progress\r\nconst isToday = savedDate === todayLocal;\r\n\r\nconst completedCount = isToday\r\n  ? Math.min(Object.keys(taskIdsObj).length, DAILY_TASKS)\r\n  : 0;\r\n\r\nconst progressPercent = isToday\r\n  ? Math.min((completedCount / DAILY_TASKS) * 100, 100)\r\n  : 0;\r\n\r\nconst pointsToShow = isToday\r\n  ? Math.min(completedCount * TASK_POINTS, MAX_POINTS)\r\n  : 0;\r\n\r\n  return (\r\n    <div className=\"min-h-screen w-full mt-0 bg-gradient-to-br from-gray-900 via-black to-gray-900 text-white relative\">\r\n      <div className=\"relative max-w-7xl mx-auto px-6 pt-10 pb-28 space-y-10\">\r\n        <motion.div initial={{ opacity: 0, y: 25 }} animate={{ opacity: 1, y: 0 }}>\r\n          <h1 className=\"text-3xl md:text-4xl font-black mb-2 bg-gradient-to-r from-yellow-400 to-yellow-600 bg-clip-text text-transparent\">\r\n            Daily Tasks\r\n          </h1>\r\n        </motion.div>\r\n\r\n        <div className=\"bg-black/70 backdrop-blur-xl rounded-3xl p-6 border border-gray-800/60\">\r\n          <div className=\"text-sm text-gray-400 mb-3 flex justify-between\">\r\n            <span>Daily Progress</span>\r\n            <span>\r\n              {pointsToShow}/{MAX_POINTS} points\r\n            </span>\r\n          </div>\r\n\r\n          <div className=\"w-full bg-gray-900 rounded-2xl h-3 overflow-hidden\">\r\n            <motion.div\r\n              className=\"h-3 bg-gradient-to-r from-yellow-400 to-yellow-600 rounded-2xl shadow-lg\"\r\n              initial={{ width: 0 }}\r\n              animate={{ width: `${progressPercent}%` }}\r\n              transition={{ duration: 0.4 }}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"text-xs text-gray-500 mt-2 flex justify-between\">\r\n            <span>{Math.round(progressPercent)}% Complete</span>\r\n            <span>\r\n              {completedCount}/{DAILY_TASKS} Tasks\r\n            </span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n          {dailyTasks.map((task) => (\r\n            <TaskCard key={task.id} task={task} onStart={handleStartTask} />\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      <VideoModal videoUrl={videoUrl} onClose={() => setVideoUrl(null)} />\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}